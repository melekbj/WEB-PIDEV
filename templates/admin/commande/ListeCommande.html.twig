{% extends 'baseAdmin.html.twig' %}

{% block title %}Liste des demandes partenaires
{% endblock %}

{% block body %}

	{# {% if app.user %}
	        <div class="mb-3">
	            You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Logout</a>
	        </div>
	    {% endif %} #}


	<!-- Layout wrapper -->
		<div
		class="layout-wrapper layout-content-navbar"> <!-- Layout container -->
		<div class="layout-container">
			<div
				class="layout-page">
				<!-- Content wrapper -->
				<div
					class="content-wrapper">
					<!-- Content -->
					<div class="container-xxl flex-grow-1 container-p-y">
						<div class="row">
							<div class="col-lg-12 mb-4 order-0">
								<div class="card">
									<div class="d-flex align-items-end row">
										<div class="col-md-12">
											<div class="card-body">

												<div class="card">
													<h5 class="card-header">Liste Commande</h5>
													<div class="table-responsive text-nowrap">
														<table
															class="table">
															{# //display flash messages from controller #}
															{% for message in app.flashes('success') %}
																<div class="alert alert-success">
																	{{ message }}
																</div>
															{% endfor %}
															{% for message in app.flashes('error') %}
																<div class="alert alert-danger">
																	{{ message }}
																</div>
															{% endfor %}


															<thead>
																<tr>
																	<th>id</th>
																	<th>User</th>
																	<th>destination</th>
																	<th>prix</th>
																	<th>date</th>
																	<th>Etat</th>
																	{# <th>Actions</th> #}
																</tr>
															</thead>
															<tbody class="table-border-bottom-0">

																{% for commande in commandes %}


																	<tr class="table-info">


																		<td>
																			<a href="{{ path('app_detailcommande_admin', {'commande': commande.id}) }}">
																				{{ commande.id }}

																			</a>
																		</td>

																		<td>
																			<a href="{{ path('app_users', {'id': commande.user.id}) }}">
																				{{ commande.user.nom }}
																			</a>

																		</td>
																		<td>{{ commande.destination }}</td>
																		<td>{{ commande.prix }} DT</td>
																		<td>{{ commande.date|date('Y-m-d H:i:s') }}</td>
																		{% if commande.etat is same as('Pending') %}
																			<td>
																				<span class="badge bg-label-info me-1">Pending</span>
																			</td>
																		{% elseif commande.etat is same as('Progress')  %}
																			<td>
																				<span class="badge bg-label-secondary me-1">Progress</span>
																			</td>
																		{% elseif commande.etat is same as('Completed') %}
																			<td>
																				<span class="badge bg-label-success me-1">Completed</span>
																			</td>
																			{% else %}
																			<td>
																				<span class="badge bg-label-danger me-1">Canceled</span>
																			</td>
																		{% endif %}

																		
																	</tr>


																{% endfor %}


															</tbody>
														</table>
													</div>
												</div>

											</div>
										</div>

									</div>
								</div>
							</div>

						</div>
					</div>

				</div>
			</div>
		</div>

	</div>


{% endblock %}


{# data-toggle="modal" data-target="#exampleModal" #}
{# <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel">Edit Informations</h5>
                        </div>
                          <div class="modal-body">

                              <form id="edit-user-form">
                                {% for flash_message in app.session.flashbag.get('error') %}
                                  <div class="alert alert-danger">{{ flash_message }}</div>
                                {% endfor %}

                                {% for flash_message in app.session.flashbag.get('success') %}
                                  <div class="alert alert-success">{{ flash_message }}</div>
                                {% endfor %}

                                <input type="text" id="nom" name="nom"  />
                                <input type="text" id="prenom"  name="prenom" />

                                <div class="modal-footer">
                                
                                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                  <button type="submit" class="btn btn-primary">Save changes</button>
                                
                                </div>

                              </form>
                          </div>
                          
                        </div>
                      </div>
                  </div>  #}
